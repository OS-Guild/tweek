version: 0.0.{build}
configuration: Release
hosts:
  tweek-couchbase-1.dyurid5y0qhuvon1hlx3z33oye.bx.internal.cloudapp.net: 40.117.43.1
  tweek-couchbase-2.dyurid5y0qhuvon1hlx3z33oye.bx.internal.cloudapp.net: 40.80.150.52
  tweek-couchbase-3.dyurid5y0qhuvon1hlx3z33oye.bx.internal.cloudapp.net: 40.80.148.200
before_build:
- cmd: nuget restore -verbosity quiet
build:
  verbosity: quiet
artifacts:
- path: Tweek.ApiService
  name: Tweek.ApiService
  type: WebDeployPackage
test:
  assemblies: '**\*.test-assembly.dll'
test_script:
- ps: ".\\runTests.ps1"
deploy:
- provider: WebDeploy
  server: https://soluto-tweek-staging.scm.azurewebsites.net:443/msdeploy.axd?site=soluto-tweek__staging
  website: soluto-tweek__staging
  username: $soluto-tweek__staging
  password:
    secure: Nq/SZjmic8l0nDQ96J9VwAQz0H8lFC3qBIiWNKxujUO5q+O4pKVvrLckCLTOyZRcdtMJF3gnocaByunyJzJo4Q==
  artifact: Tweek.ApiService
  remove_files: true
